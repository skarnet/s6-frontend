echo "#undef ${package_macro_name}_USE_UTIL_LINUX"
if $useutillinux ; then
  echo "#define ${package_macro_name}_USE_UTIL_LINUX"
fi

echo "#undef ${package_macro_name}_USE_S6LI"
if $uses6li ; then
  echo "#define ${package_macro_name}_USE_S6LI"
  echo '#include <s6-linux-init/config.h>'
  scandirdefault='S6_LINUX_INIT_TMPFS "/" S6_LINUX_INIT_SCANDIR'
else
  scandirdefault='"/run/service"'
fi

echo "#undef ${package_macro_name}_SCANDIR"
if test -n "$scandir" ; then
  echo "#define ${package_macro_name}_SCANDIR \"$scandir\""
else
  echo "#define ${package_macro_name}_SCANDIR $scandirdefault"
fi

needs6rcconfig=true
echo "#undef ${package_macro_name}_LIVEDIR"
if test -n "$livedir" ; then
  echo "#define ${package_macro_name}_LIVEDIR \"$livedir\""
else
  if $needs6rcconfig ; then
    needs6rcconfig=false
    echo "#include <s6-rc/config.h>"
  fi
  echo "#define ${package_macro_name}_LIVEDIR S6RC_LIVEDIR"
fi

echo "#undef ${package_macro_name}_REPODIR"
if test -n "$repodir" ; then
  echo "#define ${package_macro_name}_REPODIR \"$repodir\""
else
  if $needs6rcconfig ; then
    needs6rcconfig=false
    echo "#include <s6-rc/config.h>"
  fi
  echo "#define ${package_macro_name}_REPODIR S6RC_REPODIR"
fi

echo "#undef ${package_macro_name}_BOOTDB"
if test -n "$bootdb" ; then
  echo "#define ${package_macro_name}_BOOTDB \"$bootdb\""
else
  if $needs6rcconfig ; then
    needs6rcconfig=false
    echo "#include <s6-rc/config.h>"
  fi
  echo "#define ${package_macro_name}_BOOTDB S6RC_BOOTDB"
fi

echo "#undef ${package_macro_name}_DEFBUNDLE"
if test -n "$defbundle" ; then
  echo "#define ${package_macro_name}_DEFBUNDLE \"$defbundle\""
else
  if $needs6rcconfig ; then
    needs6rcconfig=false
    echo "#include <s6-rc/config.h>"
  fi
  echo "#define ${package_macro_name}_DEFBUNDLE S6RC_DEFBUNDLE"
fi

echo "#undef ${package_macro_name}_STMPDIR"
echo "#define ${package_macro_name}_STMPDIR \"$stmpdir\""

echo "#undef ${package_macro_name}_CONF"
echo "#define ${package_macro_name}_CONF \"$conffile\""

echo "#undef ${package_macro_name}_STOREPATH"
echo "#define ${package_macro_name}_STOREPATH \"$storepath\""
